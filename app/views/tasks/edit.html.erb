<h2>Edit <%= @type.titleize %></h2>

<%= simple_form_for([@list, @task], url: list_task_path(@list, @task)) do |f| %>
  <%= f.input :description, error: false %>
  <%= f.input :priority_id, collection: Priority.all, required: true %>

  <% if @type == 'LongTask' %>
    <%= f.input :percentage, as: :integer %>
  <% elsif @type == 'TemporaryTask' %>
    <%= f.input :start_date, required: true %>
    <%= f.input :end_date, required: true %>
  <% end %>

  <%= f.input :state_id, collection: State.all, required: true %>

  <% if @task.errors.any? %>
    <%= render 'layouts/errors', errors: @task.errors.full_messages %>
  <% end %>

  <%= f.button :submit %>
<% end %>

<%= link_to 'Back', lists_path, class: 'btn btn-default' %>
